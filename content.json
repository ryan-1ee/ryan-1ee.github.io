{"posts":[{"title":"Nginx Config","text":"前段时间对Nat VPS上的V2Ray进行了一些调整，使用Nginx前置并进行反代，这里贴一下Nginx + H2 + TLS + WS + V2ray的配置文件 Nginx配置文件# /etc/nginx/config.d/h2w.confserver { listen [::]:443 ssl http2; # Nat VPS 带 IPV6 server_name youdomian; index index.html; root /usr/share/nginx/html; # 静态页面文件 error_page 404 400 500 502 503 504 /5xx.html; ssl_certificate /cert/server.pem; # TLS的公钥 ssl_certificate_key /cert/server.key; # TLS的私钥 ssl_protocols TLSv1.2 TLSv1.3; ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384; # 在 location 后填写 /你的 path，客户端加?ed=2048可以降低延迟 location /your_v2ray_path{ if ($http_upgrade != &quot;websocket&quot;) { return 404; } proxy_pass http://127.0.0.1:port; # 这里改为你的v2ray监听的端口 proxy_redirect off; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &quot;upgrade&quot;; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_read_timeout 52w; }}","link":"/posts/2966908134/"}],"tags":[{"name":"nginx","slug":"nginx","link":"/tags/nginx/"},{"name":"v2ray","slug":"v2ray","link":"/tags/v2ray/"}],"categories":[],"pages":[{"title":"","text":"404 Not Found! 该页面不存在，点击 [这里]返回首页","link":"/404.html"}]}